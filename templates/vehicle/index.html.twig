{% extends 'base.html.twig' %}

{% block title %}vstaff{% endblock %}

{% block body %}

<div class ="col-sm-9">
    <h1>Staff requested Vehicle</h1>

        <a href="{{ path('vehicle_new') }}">Add new</a>
    <table class="table">
        <thead>
            <tr>
                <th>#</th>
                <th>Requester</th>
                <th>Telephone</th>
                <th>Purpose</th>
                <th>Destination</th>
                <th>Disparture</th>
                <th>Back On</th>
                <th>Tripdays</th>
                    <th>No.of travelers</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for vehicle in vehicles %}
            <tr>
                <td>{{ vehicle.id }}</td>
                <td>{{ vehicle.staff }}</td>
                <td>{{ vehicle.telephone }}</td>
                <td>{{ vehicle.purpose }}</td>
                <td>{{ vehicle.destination }}</td>
                <td>{{ vehicle.timedisparture |date('yy-m-d')}}</td>
                <td>{{ vehicle.arrivaltime|date('yy-m-d') }}</td>
                <td>{{ vehicle.tripdays }}</td>
                <td>{{ vehicle.travellerquantity }}</td>
                <td>
                    <a href="{{ path('vehicle_show', {'id': vehicle.id}) }}">show</a>
                    
                    <a data-toggle="modal" data-target="#tripInfoModal{{vehicle.id}}">assign a car</a>


                        <!-- The Modal -->
                        <div class="modal fade" id="tripInfoModal{{vehicle.id}}">
                            <div class="modal-dialog modal-dialog-scrollable">
                            <div class="modal-content">
                            
                                <!-- Modal Header -->
                                <div class="modal-header">
                                <h4 class="modal-title">Car Validation Information</h4>
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                </div>
                                
                                <!-- Modal body -->
                                <div class="modal-body">
                               <div class="container">
                                 <form action="{{path('vcustom_edit',{'id':vehicle.id})}}" class="was-validated">
                                        <div class="form-group">
                                        <label for="uname">companyname:</label>
                                        <input type="text" class="form-control" id="uname" placeholder=" Enter companyname" name="companyname" required>
                                        <div class="valid-feedback">Valid.</div>
                                        </div>

                                        <div class="form-group">
                                        <label for="uname">transportername:</label>
                                        <input type="text" class="form-control" id="uname" placeholder=" Enter transportername" name="transportername" required>
                                        <div class="valid-feedback">Valid.</div>
                                        </div>

                                        <div class="form-group">
                                        <label for="uname">platno:</label>
                                        <input type="text" class="form-control" id="uname" placeholder=" Enter platno" name="platno">
                                        </div>
                    
                    
                                        <div class="form-group">
                                        <label for="uname">Telephone No:</label>
                                        <input type="text" class="form-control" id="uname" placeholder=" Enter Mobile Phone" name="telno" required>
                                        <div class="valid-feedback">Valid.</div>
                                        </div>

                                        <div class="form-group">
                                        <label for="uname">Trasporterstyle:</label>
                                        <select class="form-control" id="uname" name="transporterstyle" required>
                                        <option value =""></option>
                                        <option value ="stay">Go and Stay</option>
                                         <option value ="go-and-return">Go and return</option>
                                        </select>
                                       
                                        </div>
                                       
                                        <button type="submit" class="btn btn-primary">Submit</button>
                                    </form>
                                    </div>
                                </div>
                                
                                <!-- Modal footer -->
                                <div class="modal-footer">
                                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                                </div>
                                
                            </div>
                            </div>
                        </div>
                        
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="15">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}
